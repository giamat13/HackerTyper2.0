<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Advanced Hacker OS with integrated TyperScene - Cinematic code typing simulation">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    <title>CYBER NEXUS OS v3.0</title>
    <style>
        /* ==================== ROOT & RESET ==================== */
        :root {
            --primary: #0f0;
            --primary-glow: rgba(0, 255, 0, 0.5);
            --bg-dark: #000;
            --bg-panel: rgba(10, 14, 39, 0.98);
            --accent: #0ff;
            --danger: #f00;
            --warning: #ff0;
            --font-mono: 'Share Tech Mono', 'JetBrains Mono', monospace;
            --transition-fast: 0.15s;
            --transition-normal: 0.3s;
            --z-boot: 20000;
            --z-overlay: 19999;
            --z-taskbar: 10000;
            --z-window-base: 100;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: radial-gradient(circle at center, #1a2c1a 0%, #000 120%);
            color: var(--primary);
            font-family: var(--font-mono);
            overflow: hidden;
            height: 100vh;
            cursor: none;
        }

        /* ==================== CRT EFFECT ==================== */
        .crt-overlay {
            position: fixed;
            inset: 0;
            background: 
                linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%),
                linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 2px, 2px 100%;
            pointer-events: none;
            z-index: var(--z-overlay);
            animation: flicker 0.15s infinite;
        }

        @keyframes flicker {
            0%, 100% { opacity: 0.97; }
            50% { opacity: 1; }
        }

        /* ==================== CUSTOM CURSOR ==================== */
        .cursor {
            position: fixed;
            width: 15px;
            height: 15px;
            border: 2px solid var(--primary);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: calc(var(--z-overlay) + 1);
            box-shadow: 0 0 10px var(--primary);
            transition: transform var(--transition-fast);
        }

        .cursor.clicking {
            transform: translate(-50%, -50%) scale(0.8);
            background: var(--primary-glow);
        }

        /* ==================== BOOT SCREEN ==================== */
        .boot-screen {
            position: fixed;
            inset: 0;
            background: var(--bg-dark);
            z-index: var(--z-boot);
            padding: 40px;
            font-family: var(--font-mono);
            color: var(--primary);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
        }

        .boot-screen.hidden {
            display: none;
        }

        .boot-log {
            font-size: 16px;
            line-height: 1.5;
            text-shadow: 0 0 5px var(--primary);
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        /* ==================== DESKTOP ==================== */
        .desktop {
            position: relative;
            width: 100%;
            height: calc(100vh - 60px);
            background: url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse"><path d="M 100 0 L 0 0 0 100" fill="none" stroke="rgba(0,255,0,0.05)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
        }

        /* ==================== TASKBAR ==================== */
        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: rgba(0, 20, 0, 0.95);
            border-top: 2px solid var(--primary);
            display: flex;
            align-items: center;
            padding: 0 20px;
            gap: 15px;
            z-index: var(--z-taskbar);
            box-shadow: 0 -5px 30px var(--primary-glow);
            backdrop-filter: blur(10px);
        }

        .app-icon {
            width: 50px;
            height: 50px;
            background: rgba(0, 255, 0, 0.1);
            border: 2px solid var(--primary);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all var(--transition-normal);
            position: relative;
        }

        .app-icon:hover {
            background: rgba(0, 255, 0, 0.3);
            transform: translateY(-5px);
            box-shadow: 0 5px 20px var(--primary-glow);
        }

        .app-icon.active::before {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 3px;
            background: var(--primary);
            box-shadow: 0 0 10px var(--primary);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .app-icon svg {
            width: 28px;
            height: 28px;
            fill: var(--primary);
        }

        .app-label {
            font-size: 8px;
            margin-top: 2px;
            color: var(--primary);
            text-transform: uppercase;
        }

        .clock {
            color: var(--primary);
            font-size: 20px;
            font-weight: bold;
            text-shadow: 0 0 10px var(--primary);
            user-select: none;
        }

        /* ==================== WINDOWS ==================== */
        .window {
            position: absolute;
            background: var(--bg-panel);
            border: 2px solid var(--primary);
            border-radius: 12px;
            box-shadow: 0 10px 50px var(--primary-glow);
            min-width: 400px;
            display: none;
            resize: both;
            overflow: hidden;
        }

        .window.active {
            display: flex;
            flex-direction: column;
            animation: windowOpen var(--transition-normal) ease-out;
        }

        @keyframes windowOpen {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .window.minimized {
            display: none !important;
        }

        .window.maximized {
            width: calc(100vw - 40px) !important;
            height: calc(100vh - 120px) !important;
            left: 20px !important;
            top: 20px !important;
            resize: none;
        }

        .window-header {
            background: linear-gradient(135deg, #0a3d0a 0%, var(--primary) 100%);
            color: #000;
            padding: 12px 15px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
            user-select: none;
            flex-shrink: 0;
        }

        .window-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
        }

        .window-controls {
            display: flex;
            gap: 8px;
        }

        .window-btn {
            width: 28px;
            height: 28px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid #000;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-fast);
            font-weight: bold;
            font-size: 18px;
        }

        .window-btn:hover {
            background: #000;
            transform: scale(1.1);
        }

        .window-btn.minimize { background: var(--warning); }
        .window-btn.maximize { background: var(--accent); }
        .window-btn.close { background: var(--danger); }

        .window-content {
            flex: 1;
            overflow: auto;
            position: relative;
        }

        /* ==================== TYPERSCENE INTEGRATION ==================== */
        .typerscene-container {
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            flex-direction: column;
        }

        .typer-controls {
            background: rgba(0, 20, 0, 0.8);
            border-bottom: 1px solid var(--primary);
            padding: 10px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
        }

        .typer-btn {
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-family: var(--font-mono);
            font-size: 11px;
            transition: all var(--transition-fast);
        }

        .typer-btn:hover {
            background: rgba(0, 255, 0, 0.3);
            box-shadow: 0 0 10px var(--primary-glow);
        }

        .typer-btn:active {
            transform: scale(0.95);
        }

        .typer-select {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 6px 10px;
            border-radius: 4px;
            font-family: var(--font-mono);
            font-size: 11px;
            cursor: pointer;
        }

        .typer-screen-wrap {
            flex: 1;
            overflow: auto;
            padding: 20px;
            position: relative;
        }

        .typer-screen {
            font-family: 'JetBrains Mono', monospace;
            font-size: 16px;
            line-height: 1.5;
            color: var(--primary);
            white-space: pre-wrap;
            word-break: break-word;
            text-shadow: 0 0 5px var(--primary-glow);
        }

        .typer-cursor {
            display: inline-block;
            width: 10px;
            height: 20px;
            background: var(--primary);
            animation: blink 1s step-end infinite;
            margin-left: 2px;
            vertical-align: text-bottom;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        /* Syntax Highlighting */
        .kw { color: #7fffb5; }
        .type { color: #7ee0ff; }
        .str { color: #ffd19a; }
        .num { color: #ffb3b3; }
        .comment { color: #6a7b6a; font-style: italic; }
        .fn { color: #ffd1ff; }
        .punct { color: #cfe8ff; }

        /* ==================== NETWORK MAP ==================== */
        .network-map {
            width: 100%;
            height: 100%;
            position: relative;
            background: radial-gradient(circle at center, #0a1a0a 0%, #000 100%);
        }

        .network-node {
            position: absolute;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, var(--primary) 0%, #0a0 100%);
            border: 3px solid var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 30px var(--primary);
            animation: pulse 2s infinite;
        }

        .network-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            transform-origin: left center;
            animation: dataFlow 2s linear infinite;
        }

        @keyframes dataFlow {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        /* ==================== RADAR ==================== */
        .radar-container {
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .radar {
            width: 400px;
            height: 400px;
            border: 3px solid var(--primary);
            border-radius: 50%;
            position: relative;
            box-shadow: 0 0 50px var(--primary-glow);
        }

        .radar::before,
        .radar::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 2px solid rgba(0, 255, 0, 0.3);
            border-radius: 50%;
        }

        .radar::before {
            width: 70%;
            height: 70%;
        }

        .radar::after {
            width: 40%;
            height: 40%;
        }

        .radar-line {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 50%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), transparent);
            transform-origin: left center;
            animation: radarSweep 3s linear infinite;
        }

        @keyframes radarSweep {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .radar-blip {
            position: absolute;
            width: 12px;
            height: 12px;
            background: var(--danger);
            border-radius: 50%;
            animation: blipPulse 1s infinite;
        }

        @keyframes blipPulse {
            0%, 100% {
                box-shadow: 0 0 10px var(--danger);
                opacity: 1;
            }
            50% {
                box-shadow: 0 0 30px var(--danger);
                opacity: 0.5;
            }
        }

        /* ==================== STATS / CHARTS ==================== */
        .chart-container {
            width: 100%;
            height: 100%;
            background: #000;
            padding: 30px;
        }

        .bar-chart {
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            height: 80%;
            gap: 20px;
        }

        .bar {
            flex: 1;
            background: linear-gradient(180deg, var(--primary) 0%, #0a0 100%);
            border: 2px solid var(--primary);
            box-shadow: 0 0 20px var(--primary);
            animation: barGrow 2s ease-out;
            position: relative;
            min-height: 20px;
        }

        @keyframes barGrow {
            from { height: 0; }
        }

        /* ==================== SYSTEM MONITOR ==================== */
        .system-monitor {
            width: 100%;
            height: 100%;
            background: #000;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .monitor-row {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .monitor-label {
            color: var(--primary);
            font-size: 14px;
            min-width: 120px;
        }

        .progress-bar {
            flex: 1;
            height: 30px;
            background: rgba(0, 255, 0, 0.1);
            border: 2px solid var(--primary);
            border-radius: 5px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #0a0 0%, var(--primary) 50%, #0a0 100%);
            background-size: 200% 100%;
            animation: progressShine 2s linear infinite;
            box-shadow: 0 0 20px var(--primary);
        }

        @keyframes progressShine {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .monitor-value {
            color: var(--primary);
            font-size: 16px;
            font-weight: bold;
            min-width: 80px;
            text-align: right;
        }

        /* ==================== MATRIX DISPLAY ==================== */
        .matrix-display {
            width: 100%;
            height: 100%;
            background: #000;
            position: relative;
            overflow: hidden;
        }

        .matrix-char {
            position: absolute;
            color: var(--primary);
            font-size: 20px;
            animation: matrixFall linear;
            text-shadow: 0 0 10px var(--primary);
        }

        @keyframes matrixFall {
            from {
                top: -20px;
                opacity: 1;
            }
            to {
                top: 100%;
                opacity: 0;
            }
        }

        /* ==================== GLOBE ==================== */
        .globe-container {
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .globe {
            width: 300px;
            height: 300px;
            border: 3px solid var(--primary);
            border-radius: 50%;
            position: relative;
            box-shadow: 0 0 50px var(--primary-glow);
            animation: rotate3d 20s linear infinite;
        }

        @keyframes rotate3d {
            from { transform: rotateY(0deg); }
            to { transform: rotateY(360deg); }
        }

        .globe-line {
            position: absolute;
            width: 100%;
            height: 2px;
            background: rgba(0, 255, 0, 0.3);
            left: 0;
        }

        .globe-marker {
            position: absolute;
            width: 10px;
            height: 10px;
            background: var(--danger);
            border-radius: 50%;
            box-shadow: 0 0 20px var(--danger);
            animation: markerPulse 2s infinite;
        }

        @keyframes markerPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.5); }
        }

        /* ==================== FIREWALL ==================== */
        .firewall-viz {
            width: 100%;
            height: 100%;
            background: #000;
            position: relative;
            overflow: hidden;
        }

        .firewall-layer {
            position: absolute;
            width: 80%;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            left: 10%;
            animation: layerScan 3s linear infinite;
        }

        @keyframes layerScan {
            0%, 100% {
                top: 0%;
                opacity: 0.5;
            }
            50% {
                top: 100%;
                opacity: 1;
            }
        }

        .attack-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: var(--danger);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--danger);
            animation: attackMove 2s linear infinite;
        }

        @keyframes attackMove {
            0% {
                left: 0%;
                opacity: 1;
            }
            80% {
                opacity: 1;
            }
            100% {
                left: 100%;
                opacity: 0;
            }
        }

        /* ==================== TERMINAL ==================== */
        .terminal-container {
            width: 100%;
            height: 100%;
            background: #000;
            color: var(--primary);
            font-family: var(--font-mono);
            padding: 15px;
            overflow-y: auto;
            font-size: 14px;
        }

        .terminal-content {
            white-space: pre-wrap;
            line-height: 1.5;
        }

        /* ==================== RESPONSIVE ==================== */
        @media (max-width: 768px) {
            .window {
                min-width: 90vw !important;
                left: 5vw !important;
            }

            .taskbar {
                height: 80px;
                flex-wrap: wrap;
                padding: 10px;
            }

            .desktop {
                height: calc(100vh - 80px);
            }

            .app-icon {
                width: 45px;
                height: 45px;
            }

            .app-label {
                font-size: 7px;
            }
        }

        /* ==================== ACCESSIBILITY ==================== */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        /* Focus styles */
        *:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        /* ==================== LOADING SPINNER ==================== */
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(0, 255, 0, 0.2);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ==================== SCROLLBAR ==================== */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.5);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(0, 255, 0, 0.5);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }
    </style>
</head>
<body>
    <!-- Boot Screen -->
    <div class="boot-screen" id="boot-screen" role="alert" aria-live="polite"></div>

    <!-- CRT Overlay -->
    <div class="crt-overlay" aria-hidden="true"></div>

    <!-- Custom Cursor -->
    <div class="cursor" id="cursor" aria-hidden="true"></div>

    <!-- Desktop -->
    <div class="desktop" id="desktop" role="main"></div>

    <!-- Taskbar -->
    <div class="taskbar" id="taskbar" role="toolbar" aria-label="Application Launcher">
        <button class="app-icon" data-app="typerscene" aria-label="Open TyperScene">
            <svg viewBox="0 0 24 24">
                <path d="M4 4h16v16H4V4zm2 4v8h12V8H6zm2 2h8v2H8v-2z"/>
            </svg>
            <span class="app-label">TYPER</span>
        </button>

        <button class="app-icon" data-app="network" aria-label="Open Network Map">
            <svg viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"/>
                <circle cx="12" cy="12" r="3"/>
            </svg>
            <span class="app-label">NETWORK</span>
        </button>

        <button class="app-icon" data-app="radar" aria-label="Open Radar">
            <svg viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"/>
                <path d="M12 2 L12 12"/>
            </svg>
            <span class="app-label">RADAR</span>
        </button>

        <button class="app-icon" data-app="stats" aria-label="Open Statistics">
            <svg viewBox="0 0 24 24">
                <rect x="4" y="14" width="4" height="6"/>
                <rect x="10" y="8" width="4" height="12"/>
                <rect x="16" y="11" width="4" height="9"/>
            </svg>
            <span class="app-label">STATS</span>
        </button>

        <button class="app-icon" data-app="monitor" aria-label="Open System Monitor">
            <svg viewBox="0 0 24 24">
                <rect x="2" y="3" width="20" height="14" rx="2"/>
                <path d="M8 21h8M12 17v4"/>
            </svg>
            <span class="app-label">SYSTEM</span>
        </button>

        <button class="app-icon" data-app="matrix" aria-label="Open Matrix Stream">
            <svg viewBox="0 0 24 24">
                <path d="M4 6h16M4 12h16M4 18h16"/>
            </svg>
            <span class="app-label">MATRIX</span>
        </button>

        <button class="app-icon" data-app="globe" aria-label="Open Global Tracking">
            <svg viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"/>
                <path d="M2 12h20M12 2a10 10 0 0 0 0 20M12 2a10 10 0 0 1 0 20"/>
            </svg>
            <span class="app-label">GLOBE</span>
        </button>

        <button class="app-icon" data-app="terminal" aria-label="Open Terminal">
            <svg viewBox="0 0 24 24">
                <path d="M4 4h16v16H4V4zm2 4v8h12V8H6zm2 2h8v2H8v-2z"/>
            </svg>
            <span class="app-label">TERMINAL</span>
        </button>

        <button class="app-icon" data-app="firewall" aria-label="Open Firewall">
            <svg viewBox="0 0 24 24">
                <path d="M12 2L4 6v6c0 5.5 3.8 10.7 9 12 5.2-1.3 9-6.5 9-12V6l-8-4z"/>
            </svg>
            <span class="app-label">FIREWALL</span>
        </button>

        <div style="flex-grow: 1;"></div>
        <time class="clock" id="clock" aria-live="polite">00:00:00</time>
    </div>

    <script>
        // ==================== CONFIGURATION ====================
        const CONFIG = {
            boot: {
                logs: [
                    "INITIALIZING CYBER NEXUS KERNEL v3.0...",
                    "LOADING MODULES: [NET] [SEC] [CRYPTO] [AI]",
                    "MOUNTING FILE SYSTEMS... OK",
                    "CHECKING MEMORY INTEGRITY... VERIFIED",
                    "CONNECTING TO SATELLITE NETWORK... ESTABLISHED",
                    "DECRYPTING QUANTUM KEY... SUCCESS",
                    "INITIALIZING NEURAL INTERFACE... READY",
                    "STARTING DESKTOP ENVIRONMENT..."
                ],
                logDelay: 350
            },
            typerscene: {
                examples: {
                    python: `import asyncio
import dataclasses
from typing import List, Dict

@dataclasses.dataclass
class NetworkNode:
    id: int
    ip: str
    status: str = "active"
    
async def scan_network(nodes: List[NetworkNode]) -> Dict:
    results = {}
    for node in nodes:
        await asyncio.sleep(0.01)
        results[node.ip] = "ONLINE" if node.status == "active" else "OFFLINE"
    return results

async def main():
    nodes = [
        NetworkNode(1, "192.168.1.100"),
        NetworkNode(2, "192.168.1.101"),
        NetworkNode(3, "192.168.1.102")
    ]
    scan_results = await scan_network(nodes)
    print(f"Scan complete: {scan_results}")

if __name__ == "__main__":
    asyncio.run(main())`,
                    javascript: `class CyberSystem {
    constructor(name) {
        this.name = name;
        this.modules = new Map();
        this.status = 'initializing';
    }

    async initialize() {
        console.log(\`Initializing \${this.name}...\`);
        await this.loadModules();
        this.status = 'ready';
        return this;
    }

    loadModules() {
        return new Promise((resolve) => {
            setTimeout(() => {
                this.modules.set('network', { active: true });
                this.modules.set('security', { active: true });
                this.modules.set('crypto', { active: true });
                resolve();
            }, 1000);
        });
    }

    getStatus() {
        return {
            name: this.name,
            status: this.status,
            modules: Array.from(this.modules.keys())
        };
    }
}

const system = new CyberSystem('NEXUS-CORE');
system.initialize().then(() => {
    console.log('System ready:', system.getStatus());
});`,
                    cpp: `#include <iostream>
#include <vector>
#include <string>
#include <memory>

class CyberModule {
private:
    std::string name;
    bool active;
    int priority;

public:
    CyberModule(const std::string& n, int p) 
        : name(n), active(false), priority(p) {}

    void activate() {
        active = true;
        std::cout << "Module " << name << " activated\\n";
    }

    bool isActive() const { return active; }
    int getPriority() const { return priority; }
};

class System {
private:
    std::vector<std::shared_ptr<CyberModule>> modules;

public:
    void addModule(const std::string& name, int priority) {
        modules.push_back(
            std::make_shared<CyberModule>(name, priority)
        );
    }

    void initializeAll() {
        for (auto& module : modules) {
            module->activate();
        }
    }
};

int main() {
    System sys;
    sys.addModule("NETWORK", 1);
    sys.addModule("SECURITY", 2);
    sys.addModule("CRYPTO", 3);
    sys.initializeAll();
    return 0;
}`
                },
                chunkSpeed: 1,
                cursorBlinkSpeed: 1000
            }
        };

        // ==================== UTILITY FUNCTIONS ====================
        const Utils = {
            throttle(func, delay) {
                let lastCall = 0;
                return function(...args) {
                    const now = Date.now();
                    if (now - lastCall >= delay) {
                        lastCall = now;
                        return func.apply(this, args);
                    }
                };
            },

            debounce(func, delay) {
                let timeoutId;
                return function(...args) {
                    clearTimeout(timeoutId);
                    timeoutId = setTimeout(() => func.apply(this, args), delay);
                };
            },

            random(min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min;
            },

            createElement(tag, className, innerHTML = '') {
                const el = document.createElement(tag);
                if (className) el.className = className;
                if (innerHTML) el.innerHTML = innerHTML;
                return el;
            }
        };

        // ==================== SYNTAX HIGHLIGHTER ====================
        const SyntaxHighlighter = {
            patterns: {
                keyword: /\b(import|from|class|def|async|await|if|else|for|while|return|const|let|var|function|new|this|include|using|namespace|public|private)\b/g,
                type: /\b(int|str|bool|float|List|Dict|void|string|auto|const)\b/g,
                string: /(["'`])(?:(?=(\\?))\2.)*?\1/g,
                number: /\b\d+(\.\d+)?\b/g,
                comment: /(\/\/.*|#.*|\/\*[\s\S]*?\*\/)/g,
                function: /\b([a-zA-Z_]\w*)\s*(?=\()/g,
                punctuation: /[{}()\[\];.,:]/g
            },

            highlight(code) {
                let highlighted = this.escapeHtml(code);
                
                // Order matters: comments first, then strings, then keywords
                highlighted = highlighted.replace(this.patterns.comment, '<span class="comment">$&</span>');
                highlighted = highlighted.replace(this.patterns.string, '<span class="str">$&</span>');
                highlighted = highlighted.replace(this.patterns.keyword, '<span class="kw">$&</span>');
                highlighted = highlighted.replace(this.patterns.type, '<span class="type">$&</span>');
                highlighted = highlighted.replace(this.patterns.number, '<span class="num">$&</span>');
                highlighted = highlighted.replace(this.patterns.function, '<span class="fn">$&</span>');
                highlighted = highlighted.replace(this.patterns.punctuation, '<span class="punct">$&</span>');
                
                return highlighted;
            },

            escapeHtml(text) {
                const map = {
                    '&': '&amp;',
                    '<': '&lt;',
                    '>': '&gt;',
                    '"': '&quot;',
                    "'": '&#039;'
                };
                return text.replace(/[&<>"']/g, m => map[m]);
            }
        };

        // ==================== WINDOW MANAGER ====================
        class WindowManager {
            constructor() {
                this.windows = new Map();
                this.zIndex = 100;
                this.activeWindow = null;
            }

            create(appName, appConfig) {
                if (this.windows.has(appName)) {
                    return this.windows.get(appName);
                }

                const win = this._buildWindow(appName, appConfig);
                this.windows.set(appName, win);
                document.getElementById('desktop').appendChild(win.element);
                
                this.focus(win);
                return win;
            }

            _buildWindow(appName, appConfig) {
                const element = Utils.createElement('div', 'window active');
                element.style.left = (100 + Utils.random(0, 200)) + 'px';
                element.style.top = (50 + Utils.random(0, 100)) + 'px';
                element.style.zIndex = ++this.zIndex;

                const header = this._buildHeader(appName, appConfig.title);
                const content = Utils.createElement('div', 'window-content');

                element.appendChild(header);
                element.appendChild(content);

                const win = {
                    element,
                    header,
                    content,
                    appName,
                    minimized: false,
                    maximized: false
                };

                this._setupDragging(win);
                this._setupControls(win);

                // Render app content
                if (appConfig.render) {
                    appConfig.render(content);
                }

                return win;
            }

            _buildHeader(appName, title) {
                const header = Utils.createElement('div', 'window-header');
                header.innerHTML = `
                    <div class="window-title">${title}</div>
                    <div class="window-controls">
                        <button class="window-btn minimize" aria-label="Minimize">‚àí</button>
                        <button class="window-btn maximize" aria-label="Maximize">‚ñ°</button>
                        <button class="window-btn close" aria-label="Close">√ó</button>
                    </div>
                `;
                return header;
            }

            _setupDragging(win) {
                let isDragging = false;
                let initialX, initialY;

                win.header.addEventListener('mousedown', (e) => {
                    if (e.target.classList.contains('window-btn')) return;
                    
                    isDragging = true;
                    initialX = e.clientX - win.element.offsetLeft;
                    initialY = e.clientY - win.element.offsetTop;
                    this.focus(win);
                    e.preventDefault();
                });

                const moveHandler = (e) => {
                    if (!isDragging) return;
                    e.preventDefault();
                    win.element.style.left = (e.clientX - initialX) + 'px';
                    win.element.style.top = (e.clientY - initialY) + 'px';
                };

                const upHandler = () => {
                    isDragging = false;
                };

                document.addEventListener('mousemove', moveHandler);
                document.addEventListener('mouseup', upHandler);
            }

            _setupControls(win) {
                const closeBtn = win.header.querySelector('.close');
                const minimizeBtn = win.header.querySelector('.minimize');
                const maximizeBtn = win.header.querySelector('.maximize');

                closeBtn.addEventListener('click', () => this.close(win));
                minimizeBtn.addEventListener('click', () => this.minimize(win));
                maximizeBtn.addEventListener('click', () => this.maximize(win));
            }

            close(win) {
                win.element.remove();
                this.windows.delete(win.appName);
                
                const icon = document.querySelector(`[data-app="${win.appName}"]`);
                if (icon) icon.classList.remove('active');
            }

            minimize(win) {
                win.minimized = !win.minimized;
                win.element.classList.toggle('minimized', win.minimized);
            }

            maximize(win) {
                win.maximized = !win.maximized;
                win.element.classList.toggle('maximized', win.maximized);
            }

            focus(win) {
                if (this.activeWindow) {
                    this.activeWindow.element.style.zIndex = this.zIndex;
                }
                win.element.style.zIndex = ++this.zIndex;
                this.activeWindow = win;
            }
        }

        // ==================== TYPERSCENE APP ====================
        class TyperScene {
            constructor(container) {
                this.container = container;
                this.rawText = CONFIG.typerscene.examples.python;
                this.displayText = '';
                this.pointer = 0;
                this.isTyping = false;
                this.typingInterval = null;
                this.currentLanguage = 'python';
                
                this.init();
            }

            init() {
                this.render();
                this.attachEventListeners();
            }

            render() {
                this.container.innerHTML = `
                    <div class="typerscene-container">
                        <div class="typer-controls">
                            <button class="typer-btn" data-action="start">‚ñ∂ Start</button>
                            <button class="typer-btn" data-action="stop">‚è∏ Stop</button>
                            <button class="typer-btn" data-action="reset">‚Üª Reset</button>
                            <select class="typer-select" data-action="language">
                                <option value="python">Python</option>
                                <option value="javascript">JavaScript</option>
                                <option value="cpp">C++</option>
                            </select>
                            <button class="typer-btn" data-action="clear">Clear</button>
                        </div>
                        <div class="typer-screen-wrap">
                            <div class="typer-screen" id="typer-screen"></div>
                        </div>
                    </div>
                `;
            }

            attachEventListeners() {
                const controls = this.container.querySelector('.typer-controls');
                
                controls.addEventListener('click', (e) => {
                    const btn = e.target.closest('[data-action]');
                    if (!btn) return;

                    const action = btn.dataset.action;
                    switch(action) {
                        case 'start': this.start(); break;
                        case 'stop': this.stop(); break;
                        case 'reset': this.reset(); break;
                        case 'clear': this.clear(); break;
                    }
                });

                controls.addEventListener('change', (e) => {
                    if (e.target.dataset.action === 'language') {
                        this.changeLanguage(e.target.value);
                    }
                });

                // Global keyboard listener
                document.addEventListener('keydown', (e) => {
                    if (!this.container.closest('.window.active')) return;
                    
                    if (e.key === 'Escape') {
                        this.stop();
                    } else if (!this.isTyping && e.key.length === 1) {
                        this.typeChunk();
                    }
                });
            }

            start() {
                if (this.isTyping) return;
                this.isTyping = true;
                
                this.typingInterval = setInterval(() => {
                    this.typeChunk();
                    if (this.pointer >= this.rawText.length) {
                        this.stop();
                    }
                }, 50);
            }

            stop() {
                this.isTyping = false;
                if (this.typingInterval) {
                    clearInterval(this.typingInterval);
                    this.typingInterval = null;
                }
            }

            reset() {
                this.stop();
                this.pointer = 0;
                this.displayText = '';
                this.updateDisplay();
            }

            clear() {
                this.stop();
                this.rawText = '';
                this.pointer = 0;
                this.displayText = '';
                this.updateDisplay();
            }

            typeChunk() {
                const chunkSize = Utils.random(1, 3);
                const chunk = this.rawText.slice(this.pointer, this.pointer + chunkSize);
                this.displayText += chunk;
                this.pointer += chunkSize;
                this.updateDisplay();
            }

            updateDisplay() {
                const screen = document.getElementById('typer-screen');
                if (!screen) return;

                const highlighted = SyntaxHighlighter.highlight(this.displayText);
                screen.innerHTML = highlighted + '<span class="typer-cursor"></span>';
                
                // Auto scroll
                screen.scrollTop = screen.scrollHeight;
            }

            changeLanguage(lang) {
                this.currentLanguage = lang;
                this.rawText = CONFIG.typerscene.examples[lang] || '';
                this.reset();
            }
        }

        // ==================== APP DEFINITIONS ====================
        const APPS = {
            typerscene: {
                title: '‚å®Ô∏è TYPERSCENE',
                render: (container) => {
                    new TyperScene(container);
                }
            },

            network: {
                title: '‚ö° NETWORK MAP',
                render: (container) => {
                    container.className = 'network-map';
                    const nodes = [
                        { x: 50, y: 50 }, { x: 200, y: 100 }, { x: 350, y: 80 },
                        { x: 150, y: 250 }, { x: 300, y: 300 }, { x: 450, y: 200 }
                    ];

                    nodes.forEach((pos, i) => {
                        const node = Utils.createElement('div', 'network-node');
                        node.style.left = pos.x + 'px';
                        node.style.top = pos.y + 'px';
                        node.style.animationDelay = (i * 0.2) + 's';
                        node.innerHTML = '<svg width="30" height="30" fill="#000"><circle cx="15" cy="15" r="8"/></svg>';
                        container.appendChild(node);
                    });

                    for (let i = 0; i < nodes.length - 1; i++) {
                        const line = Utils.createElement('div', 'network-line');
                        const dx = nodes[i + 1].x - nodes[i].x;
                        const dy = nodes[i + 1].y - nodes[i].y;
                        const length = Math.sqrt(dx * dx + dy * dy);
                        const angle = Math.atan2(dy, dx) * 180 / Math.PI;
                        line.style.width = length + 'px';
                        line.style.left = nodes[i].x + 30 + 'px';
                        line.style.top = nodes[i].y + 30 + 'px';
                        line.style.transform = `rotate(${angle}deg)`;
                        line.style.animationDelay = (i * 0.3) + 's';
                        container.appendChild(line);
                    }
                }
            },

            radar: {
                title: 'üéØ THREAT RADAR',
                render: (container) => {
                    container.className = 'radar-container';
                    const radar = Utils.createElement('div', 'radar');
                    radar.innerHTML = '<div class="radar-line"></div>';

                    for (let i = 0; i < 8; i++) {
                        const blip = Utils.createElement('div', 'radar-blip');
                        const angle = Math.random() * 360;
                        const distance = Math.random() * 180 + 20;
                        blip.style.left = `calc(50% + ${Math.cos(angle) * distance}px)`;
                        blip.style.top = `calc(50% + ${Math.sin(angle) * distance}px)`;
                        blip.style.animationDelay = (i * 0.2) + 's';
                        radar.appendChild(blip);
                    }

                    container.appendChild(radar);
                }
            },

            stats: {
                title: 'üìä DATA ANALYTICS',
                render: (container) => {
                    container.className = 'chart-container';
                    const chart = Utils.createElement('div', 'bar-chart');
                    const heights = [45, 78, 62, 89, 55, 92, 67, 81];

                    heights.forEach((h, i) => {
                        const bar = Utils.createElement('div', 'bar');
                        bar.style.height = h + '%';
                        bar.style.animationDelay = (i * 0.1) + 's';
                        chart.appendChild(bar);
                    });

                    container.appendChild(chart);
                }
            },

            monitor: {
                title: 'üíª SYSTEM MONITOR',
                render: (container) => {
                    container.className = 'system-monitor';
                    const items = [
                        { label: 'CPU', value: 87 },
                        { label: 'RAM', value: 65 },
                        { label: 'NETWORK', value: 92 },
                        { label: 'DISK I/O', value: 45 },
                        { label: 'GPU', value: 78 },
                        { label: 'BANDWIDTH', value: 83 }
                    ];

                    items.forEach((item, i) => {
                        const row = Utils.createElement('div', 'monitor-row');
                        row.innerHTML = `
                            <div class="monitor-label">${item.label}</div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${item.value}%; animation-delay: ${i * 0.1}s"></div>
                            </div>
                            <div class="monitor-value">${item.value}%</div>
                        `;
                        container.appendChild(row);
                    });
                }
            },

            matrix: {
                title: 'üî¢ MATRIX STREAM',
                render: (container) => {
                    container.className = 'matrix-display';
                    const chars = '01„Ç¢„Ç§„Ç¶„Ç®„Ç™„Ç´„Ç≠„ÇØ„Ç±„Ç≥';

                    const interval = setInterval(() => {
                        if (container.children.length > 100) return;
                        const char = Utils.createElement('div', 'matrix-char');
                        char.textContent = chars[Math.floor(Math.random() * chars.length)];
                        char.style.left = Math.random() * 100 + '%';
                        char.style.animationDuration = (Math.random() * 3 + 2) + 's';
                        container.appendChild(char);
                        setTimeout(() => char.remove(), 5000);
                    }, 200);

                    // Cleanup when window closes
                    container.cleanup = () => clearInterval(interval);
                }
            },

            globe: {
                title: 'üåç GLOBAL TRACKING',
                render: (container) => {
                    container.className = 'globe-container';
                    const globe = Utils.createElement('div', 'globe');

                    for (let i = 0; i < 5; i++) {
                        const line = Utils.createElement('div', 'globe-line');
                        line.style.top = (20 + i * 20) + '%';
                        globe.appendChild(line);
                    }

                    for (let i = 0; i < 6; i++) {
                        const marker = Utils.createElement('div', 'globe-marker');
                        marker.style.left = Math.random() * 80 + 10 + '%';
                        marker.style.top = Math.random() * 80 + 10 + '%';
                        marker.style.animationDelay = (i * 0.3) + 's';
                        globe.appendChild(marker);
                    }

                    container.appendChild(globe);
                }
            },

            terminal: {
                title: 'üíª TERMINAL',
                render: (container) => {
                    container.className = 'terminal-container';
                    const content = Utils.createElement('div', 'terminal-content');
                    content.id = 'terminal-content';
                    container.appendChild(content);

                    const code = `$ sudo systemctl start cyber-nexus
[OK] Starting Cyber Nexus System...
[OK] Loaded kernel modules
[OK] Network interface initialized
[OK] Security protocols active

$ cat /proc/sys/net
IPv4: 192.168.1.100
IPv6: fe80::1
Gateway: 192.168.1.1
DNS: 8.8.8.8

$ ps aux | grep cyber
root  1234  0.5  2.1  System Core
root  1235  0.3  1.8  Network Monitor
root  1236  0.1  0.9  Security Daemon

$ ‚ñà`;

                    let index = 0;
                    const typeInterval = setInterval(() => {
                        if (index < code.length) {
                            content.textContent += code[index];
                            index++;
                            container.scrollTop = container.scrollHeight;
                        } else {
                            clearInterval(typeInterval);
                        }
                    }, 30);

                    container.cleanup = () => clearInterval(typeInterval);
                }
            },

            firewall: {
                title: 'üõ°Ô∏è FIREWALL STATUS',
                render: (container) => {
                    container.className = 'firewall-viz';

                    for (let i = 0; i < 5; i++) {
                        const layer = Utils.createElement('div', 'firewall-layer');
                        layer.style.animationDelay = (i * 0.6) + 's';
                        container.appendChild(layer);
                    }

                    const particleInterval = setInterval(() => {
                        if (container.querySelectorAll('.attack-particle').length > 20) return;
                        const particle = Utils.createElement('div', 'attack-particle');
                        particle.style.top = Math.random() * 100 + '%';
                        particle.style.animationDuration = (Math.random() * 2 + 1) + 's';
                        container.appendChild(particle);
                        setTimeout(() => particle.remove(), 3000);
                    }, 500);

                    container.cleanup = () => clearInterval(particleInterval);
                }
            }
        };

        // ==================== BOOT SEQUENCE ====================
        class BootSequence {
            constructor() {
                this.screen = document.getElementById('boot-screen');
                this.logs = CONFIG.boot.logs;
                this.index = 0;
            }

            async start() {
                for (const log of this.logs) {
                    await this.addLog(log);
                    await this.delay(CONFIG.boot.logDelay);
                }
                
                await this.delay(1000);
                this.screen.classList.add('hidden');
            }

            addLog(text) {
                return new Promise(resolve => {
                    const p = Utils.createElement('div', 'boot-log', `> ${text}`);
                    this.screen.appendChild(p);
                    this.screen.scrollTop = this.screen.scrollHeight;
                    resolve();
                });
            }

            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
        }

        // ==================== SYSTEM CLASS ====================
        class CyberNexusOS {
            constructor() {
                this.windowManager = new WindowManager();
                this.cursor = document.getElementById('cursor');
                this.clock = document.getElementById('clock');
                
                this.init();
            }

            async init() {
                // Boot sequence
                const boot = new BootSequence();
                await boot.start();

                // Setup event listeners
                this.setupTaskbar();
                this.setupCursor();
                this.setupClock();
                this.setupKeyboardShortcuts();
            }

            setupTaskbar() {
                const taskbar = document.getElementById('taskbar');
                
                taskbar.addEventListener('click', (e) => {
                    const icon = e.target.closest('.app-icon');
                    if (!icon) return;

                    const appName = icon.dataset.app;
                    const appConfig = APPS[appName];
                    
                    if (!appConfig) return;

                    // Toggle window
                    if (this.windowManager.windows.has(appName)) {
                        const win = this.windowManager.windows.get(appName);
                        this.windowManager.close(win);
                        icon.classList.remove('active');
                    } else {
                        this.windowManager.create(appName, appConfig);
                        icon.classList.add('active');
                    }
                });
            }

            setupCursor() {
                const throttledMove = Utils.throttle((e) => {
                    this.cursor.style.left = e.clientX + 'px';
                    this.cursor.style.top = e.clientY + 'px';
                }, 16); // ~60fps

                document.addEventListener('mousemove', throttledMove);
                document.addEventListener('mousedown', () => this.cursor.classList.add('clicking'));
                document.addEventListener('mouseup', () => this.cursor.classList.remove('clicking'));
            }

            setupClock() {
                const updateClock = () => {
                    const now = new Date();
                    this.clock.textContent = now.toLocaleTimeString('en-US', { hour12: false });
                };

                updateClock();
                setInterval(updateClock, 1000);
            }

            setupKeyboardShortcuts() {
                document.addEventListener('keydown', (e) => {
                    // Alt + number to open apps
                    if (e.altKey && e.key >= '1' && e.key <= '9') {
                        e.preventDefault();
                        const appKeys = Object.keys(APPS);
                        const index = parseInt(e.key) - 1;
                        if (appKeys[index]) {
                            const appName = appKeys[index];
                            const icon = document.querySelector(`[data-app="${appName}"]`);
                            if (icon) icon.click();
                        }
                    }

                    // Escape to close active window
                    if (e.key === 'Escape' && this.windowManager.activeWindow) {
                        this.windowManager.close(this.windowManager.activeWindow);
                    }
                });
            }
        }

        // ==================== START SYSTEM ====================
        const OS = new CyberNexusOS();
    </script>
</body>
</html>