<!DOCTYPE html>
<html lang="he" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <title>HACKER SYSTEM OS v2.0</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            cursor: none;
            /* Hide default cursor */
        }

        body {
            background-color: #000;
            background: radial-gradient(circle at center, #1a2c1a 0%, #000 120%);
            color: #0f0;
            font-family: 'Share Tech Mono', monospace;
            overflow: hidden;
            height: 100vh;
        }

        /* CRT Effect Overlay */
        .crt-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 2px, 2px 100%;
            pointer-events: none;
            z-index: 99999;
            animation: flicker 0.15s infinite;
        }

        @keyframes flicker {
            0% {
                opacity: 0.97;
            }

            50% {
                opacity: 1;
            }

            100% {
                opacity: 0.98;
            }
        }

        /* Custom Cursor */
        .cursor {
            position: fixed;
            width: 15px;
            height: 15px;
            border: 2px solid #0f0;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 100000;
            box-shadow: 0 0 10px #0f0;
            transition: transform 0.1s;
        }

        .cursor.clicking {
            transform: translate(-50%, -50%) scale(0.8);
            background: rgba(0, 255, 0, 0.5);
        }

        /* Boot Screen */
        .boot-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 20000;
            padding: 40px;
            font-family: 'Share Tech Mono', monospace;
            color: #0f0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
        }

        .boot-log {
            font-size: 16px;
            line-height: 1.5;
            text-shadow: 0 0 5px #0f0;
        }

        .desktop {
            position: relative;
            width: 100%;
            height: calc(100vh - 60px);
            background: url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse"><path d="M 100 0 L 0 0 0 100" fill="none" stroke="rgba(0,255,0,0.05)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
        }

        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: rgba(0, 20, 0, 0.95);
            border-top: 2px solid #0f0;
            display: flex;
            align-items: center;
            padding: 0 20px;
            gap: 15px;
            z-index: 10000;
            box-shadow: 0 -5px 30px rgba(0, 255, 0, 0.3);
        }

        .app-icon {
            width: 50px;
            height: 50px;
            background: rgba(0, 255, 0, 0.1);
            border: 2px solid #0f0;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .app-icon:hover {
            background: rgba(0, 255, 0, 0.3);
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0, 255, 0, 0.5);
        }

        .app-icon.active {
            background: rgba(0, 255, 0, 0.4);
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.8);
        }

        .app-icon svg {
            width: 28px;
            height: 28px;
            fill: #0f0;
        }

        .app-label {
            font-size: 8px;
            margin-top: 2px;
            color: #0f0;
        }

        .window {
            position: absolute;
            background: rgba(10, 14, 39, 0.98);
            border: 2px solid #0f0;
            border-radius: 12px;
            box-shadow: 0 10px 50px rgba(0, 255, 0, 0.4);
            min-width: 400px;
            display: none;
        }

        .window.active {
            display: block;
            animation: windowOpen 0.3s ease-out;
        }

        @keyframes windowOpen {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }

            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .window-header {
            background: linear-gradient(135deg, #0a3d0a 0%, #0f0 100%);
            color: #000;
            padding: 12px 15px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
            user-select: none;
        }

        .window-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
        }

        .window-controls {
            display: flex;
            gap: 8px;
        }

        .window-btn {
            width: 28px;
            height: 28px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid #000;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .window-btn:hover {
            background: #000;
            transform: scale(1.1);
        }

        .minimize {
            background: #ff0;
        }

        .maximize {
            background: #0ff;
        }

        .close {
            background: #f00;
        }

        .window-content {
            padding: 0;
            height: 500px;
            overflow: hidden;
        }

        .network-map {
            width: 100%;
            height: 100%;
            position: relative;
            background: radial-gradient(circle at center, #0a1a0a 0%, #000 100%);
        }

        .network-node {
            position: absolute;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, #0f0 0%, #0a0 100%);
            border: 3px solid #0f0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 30px #0f0;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                box-shadow: 0 0 20px #0f0;
            }

            50% {
                box-shadow: 0 0 40px #0f0;
            }
        }

        .network-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, transparent, #0f0, transparent);
            transform-origin: left center;
            animation: dataFlow 2s linear infinite;
        }

        @keyframes dataFlow {
            0% {
                opacity: 0.3;
            }

            50% {
                opacity: 1;
            }

            100% {
                opacity: 0.3;
            }
        }

        .radar-container {
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .radar {
            width: 400px;
            height: 400px;
            border: 3px solid #0f0;
            border-radius: 50%;
            position: relative;
            box-shadow: 0 0 50px rgba(0, 255, 0, 0.5);
        }

        .radar::before,
        .radar::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 2px solid rgba(0, 255, 0, 0.3);
            border-radius: 50%;
        }

        .radar::before {
            width: 70%;
            height: 70%;
        }

        .radar::after {
            width: 40%;
            height: 40%;
        }

        .radar-line {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 50%;
            height: 3px;
            background: linear-gradient(90deg, #0f0, transparent);
            transform-origin: left center;
            animation: radarSweep 3s linear infinite;
        }

        @keyframes radarSweep {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        .radar-blip {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #f00;
            border-radius: 50%;
            animation: blipPulse 1s infinite;
        }

        @keyframes blipPulse {

            0%,
            100% {
                box-shadow: 0 0 10px #f00;
                opacity: 1;
            }

            50% {
                box-shadow: 0 0 30px #f00;
                opacity: 0.5;
            }
        }

        .chart-container {
            width: 100%;
            height: 100%;
            background: #000;
            padding: 30px;
        }

        .bar-chart {
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            height: 80%;
            gap: 20px;
        }

        .bar {
            flex: 1;
            background: linear-gradient(180deg, #0f0 0%, #0a0 100%);
            border: 2px solid #0f0;
            box-shadow: 0 0 20px #0f0;
            animation: barGrow 2s ease-out;
            position: relative;
            min-height: 20px;
        }

        @keyframes barGrow {
            from {
                height: 0;
            }
        }

        .system-monitor {
            width: 100%;
            height: 100%;
            background: #000;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .monitor-row {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .monitor-label {
            color: #0f0;
            font-size: 14px;
            min-width: 120px;
        }

        .progress-bar {
            flex: 1;
            height: 30px;
            background: rgba(0, 255, 0, 0.1);
            border: 2px solid #0f0;
            border-radius: 5px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #0a0 0%, #0f0 50%, #0a0 100%);
            background-size: 200% 100%;
            animation: progressShine 2s linear infinite;
            box-shadow: 0 0 20px #0f0;
        }

        @keyframes progressShine {
            0% {
                background-position: 200% 0;
            }

            100% {
                background-position: -200% 0;
            }
        }

        .monitor-value {
            color: #0f0;
            font-size: 16px;
            font-weight: bold;
            min-width: 80px;
            text-align: right;
        }

        .matrix-display {
            width: 100%;
            height: 100%;
            background: #000;
            position: relative;
            overflow: hidden;
        }

        .globe-container {
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .globe {
            width: 300px;
            height: 300px;
            border: 3px solid #0f0;
            border-radius: 50%;
            position: relative;
            box-shadow: 0 0 50px rgba(0, 255, 0, 0.5);
            animation: rotate3d 20s linear infinite;
        }

        @keyframes rotate3d {
            from {
                transform: rotateY(0deg);
            }

            to {
                transform: rotateY(360deg);
            }
        }

        .globe-line {
            position: absolute;
            width: 100%;
            height: 2px;
            background: rgba(0, 255, 0, 0.3);
            left: 0;
        }

        .globe-marker {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #f00;
            border-radius: 50%;
            box-shadow: 0 0 20px #f00;
            animation: markerPulse 2s infinite;
        }

        @keyframes markerPulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.5);
            }
        }

        .firewall-viz {
            width: 100%;
            height: 100%;
            background: #000;
            position: relative;
            overflow: hidden;
        }

        .firewall-layer {
            position: absolute;
            width: 80%;
            height: 3px;
            background: linear-gradient(90deg, transparent, #0f0, transparent);
            left: 10%;
            animation: layerScan 3s linear infinite;
        }

        @keyframes layerScan {

            0%,
            100% {
                top: 0%;
                opacity: 0.5;
            }

            50% {
                top: 100%;
                opacity: 1;
            }
        }

        .attack-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #f00;
            border-radius: 50%;
            box-shadow: 0 0 10px #f00;
            animation: attackMove 2s linear infinite;
        }

        @keyframes attackMove {
            0% {
                left: 0%;
                opacity: 1;
            }

            80% {
                opacity: 1;
            }

            100% {
                left: 100%;
                opacity: 0;
            }
        }
    </style>
</head>

<body>
    <div class="boot-screen" id="boot-screen"></div>
    <div class="crt-overlay"></div>
    <div class="cursor" id="cursor"></div>
    <div class="desktop" id="desktop"></div>

    <div class="taskbar" id="taskbar">
        <div class="app-icon" data-app="network">
            <svg viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" />
                <circle cx="12" cy="12" r="3" />
            </svg>
            <span class="app-label">NETWORK</span>
        </div>

        <div class="app-icon" data-app="radar">
            <svg viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" />
                <path d="M12 2 L12 12" />
            </svg>
            <span class="app-label">RADAR</span>
        </div>

        <div class="app-icon" data-app="stats">
            <svg viewBox="0 0 24 24">
                <rect x="4" y="14" width="4" height="6" />
                <rect x="10" y="8" width="4" height="12" />
                <rect x="16" y="11" width="4" height="9" />
            </svg>
            <span class="app-label">STATS</span>
        </div>

        <div class="app-icon" data-app="monitor">
            <svg viewBox="0 0 24 24">
                <rect x="2" y="3" width="20" height="14" rx="2" />
                <path d="M8 21h8M12 17v4" />
            </svg>
            <span class="app-label">SYSTEM</span>
        </div>

        <div class="app-icon" data-app="matrix">
            <svg viewBox="0 0 24 24">
                <path d="M4 6h16M4 12h16M4 18h16" />
            </svg>
            <span class="app-label">MATRIX</span>
        </div>

        <div class="app-icon" data-app="globe">
            <svg viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" />
                <path d="M2 12h20M12 2a10 10 0 0 0 0 20M12 2a10 10 0 0 1 0 20" />
            </svg>
            <span class="app-label">GLOBE</span>
        </div>

        <div class="app-icon" data-app="terminal">
            <svg viewBox="0 0 24 24">
                <path d="M4 4h16v16H4V4zm2 4v8h12V8H6zm2 2h8v2H8v-2z" />
            </svg>
            <span class="app-label">TERMINAL</span>
        </div>
        <div class="app-icon" data-app="firewall">
            <svg viewBox="0 0 24 24">
                <path d="M12 2L4 6v6c0 5.5 3.8 10.7 9 12 5.2-1.3 9-6.5 9-12V6l-8-4z" />
            </svg>
            <span class="app-label">FIREWALL</span>
        </div>
        <div style="flex-grow: 1;"></div>
        <div id="clock" style="color: #0f0; font-size: 20px; font-weight: bold; text-shadow: 0 0 10px #0f0;">00:00:00
        </div>
    </div>

    <script>
        const apps = {
            network: {
                title: 'âš¡ NETWORK MAP',
                render: (container) => {
                    container.className = 'network-map';
                    const nodes = [
                        { x: 50, y: 50 }, { x: 200, y: 100 }, { x: 350, y: 80 },
                        { x: 150, y: 250 }, { x: 300, y: 300 }, { x: 450, y: 200 }
                    ];

                    nodes.forEach((pos, i) => {
                        const node = document.createElement('div');
                        node.className = 'network-node';
                        node.style.left = pos.x + 'px';
                        node.style.top = pos.y + 'px';
                        node.style.animationDelay = (i * 0.2) + 's';
                        node.innerHTML = `<svg width="30" height="30" fill="#000"><circle cx="15" cy="15" r="8"/></svg>`;
                        container.appendChild(node);
                    });

                    for (let i = 0; i < nodes.length - 1; i++) {
                        const line = document.createElement('div');
                        line.className = 'network-line';
                        const dx = nodes[i + 1].x - nodes[i].x;
                        const dy = nodes[i + 1].y - nodes[i].y;
                        const length = Math.sqrt(dx * dx + dy * dy);
                        const angle = Math.atan2(dy, dx) * 180 / Math.PI;
                        line.style.width = length + 'px';
                        line.style.left = nodes[i].x + 30 + 'px';
                        line.style.top = nodes[i].y + 30 + 'px';
                        line.style.transform = `rotate(${angle}deg)`;
                        line.style.animationDelay = (i * 0.3) + 's';
                        container.appendChild(line);
                    }
                }
            },
            radar: {
                title: 'ðŸŽ¯ THREAT RADAR',
                render: (container) => {
                    container.className = 'radar-container';
                    const radar = document.createElement('div');
                    radar.className = 'radar';

                    const line = document.createElement('div');
                    line.className = 'radar-line';
                    radar.appendChild(line);

                    for (let i = 0; i < 8; i++) {
                        const blip = document.createElement('div');
                        blip.className = 'radar-blip';
                        const angle = Math.random() * 360;
                        const distance = Math.random() * 180 + 20;
                        blip.style.left = `calc(50% + ${Math.cos(angle) * distance}px)`;
                        blip.style.top = `calc(50% + ${Math.sin(angle) * distance}px)`;
                        blip.style.animationDelay = (i * 0.2) + 's';
                        radar.appendChild(blip);
                    }

                    container.appendChild(radar);
                }
            },
            stats: {
                title: 'ðŸ“Š DATA ANALYTICS',
                render: (container) => {
                    container.className = 'chart-container';
                    const chart = document.createElement('div');
                    chart.className = 'bar-chart';

                    const heights = [45, 78, 62, 89, 55, 92, 67, 81];
                    heights.forEach((h, i) => {
                        const bar = document.createElement('div');
                        bar.className = 'bar';
                        bar.style.height = h + '%';
                        bar.style.animationDelay = (i * 0.1) + 's';
                        chart.appendChild(bar);
                    });

                    container.appendChild(chart);
                }
            },
            monitor: {
                title: 'ðŸ’» SYSTEM MONITOR',
                render: (container) => {
                    container.className = 'system-monitor';
                    const items = [
                        { label: 'CPU', value: 87 },
                        { label: 'RAM', value: 65 },
                        { label: 'NETWORK', value: 92 },
                        { label: 'DISK I/O', value: 45 },
                        { label: 'GPU', value: 78 },
                        { label: 'BANDWIDTH', value: 83 }
                    ];

                    items.forEach((item, i) => {
                        const row = document.createElement('div');
                        row.className = 'monitor-row';
                        row.innerHTML = `
                            <div class="monitor-label">${item.label}</div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${item.value}%; animation-delay: ${i * 0.1}s"></div>
                            </div>
                            <div class="monitor-value">${item.value}%</div>
                        `;
                        container.appendChild(row);
                    });
                }
            },
            matrix: {
                title: 'ðŸ”¢ MATRIX STREAM',
                render: (container) => {
                    container.className = 'matrix-display';
                    const chars = '01ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­';

                    setInterval(() => {
                        if (container.children.length > 100) return;
                        const char = document.createElement('div');
                        char.className = 'matrix-char';
                        char.textContent = chars[Math.floor(Math.random() * chars.length)];
                        char.style.left = Math.random() * 100 + '%';
                        char.style.animationDuration = (Math.random() * 3 + 2) + 's';
                        container.appendChild(char);
                        setTimeout(() => char.remove(), 5000);
                    }, 200);
                }
            },
            globe: {
                title: 'ðŸŒ GLOBAL TRACKING',
                render: (container) => {
                    container.className = 'globe-container';
                    const globe = document.createElement('div');
                    globe.className = 'globe';

                    for (let i = 0; i < 5; i++) {
                        const line = document.createElement('div');
                        line.className = 'globe-line';
                        line.style.top = (20 + i * 20) + '%';
                        globe.appendChild(line);
                    }

                    for (let i = 0; i < 6; i++) {
                        const marker = document.createElement('div');
                        marker.className = 'globe-marker';
                        marker.style.left = Math.random() * 80 + 10 + '%';
                        marker.style.top = Math.random() * 80 + 10 + '%';
                        marker.style.animationDelay = (i * 0.3) + 's';
                        globe.appendChild(marker);
                    }

                    container.appendChild(globe);
                }
            },
            firewall: {
                title: 'ðŸ›¡ï¸ FIREWALL STATUS',
                render: (container) => {
                    container.className = 'firewall-viz';

                    for (let i = 0; i < 5; i++) {
                        const layer = document.createElement('div');
                        layer.className = 'firewall-layer';
                        layer.style.animationDelay = (i * 0.6) + 's';
                        container.appendChild(layer);
                    }

                    setInterval(() => {
                        if (container.querySelectorAll('.attack-particle').length > 20) return;
                        const particle = document.createElement('div');
                        particle.className = 'attack-particle';
                        particle.style.top = Math.random() * 100 + '%';
                        particle.style.animationDuration = (Math.random() * 2 + 1) + 's';
                        container.appendChild(particle);
                        setTimeout(() => particle.remove(), 3000);
                    }, 500);
                }
            },
            terminal: {
                title: 'ðŸ’» TERMINAL',
                render: (container) => {
                    container.style.background = '#000';
                    container.style.color = '#0f0';
                    container.style.fontFamily = 'monospace';
                    container.style.padding = '10px';
                    container.style.overflow = 'hidden';
                    container.style.fontSize = '14px';

                    const code = `
#include <iostream>
#include <vector>
#include <string>
#include <unistd.h>
#include <sys/socket.h>

using namespace std;

class SystemCore {
    private:
        string kernel_version = "5.10.0-kali-amd64";
        int memory_map[1024];
        bool network_status = true;

    public:
        void init_sequence() {
            // Connecting to main grid
            // Bylat cyka 
            for(int i=0; i<100; i++) {
                memory_map[i] = rand() % 255;
            }
        }

        bool decrypt_hash(string hash) {
            // Brute force algorythm v2
            return true;
        }
};

void main() {
    SystemCore sys;
    sys.init_sequence();
    
    // Injecting payload...
    // Accessing secure vault...
    // Downloading database...
}
                    `;

                    const content = document.createElement('div');
                    content.id = 'terminal-content';
                    content.style.whiteSpace = 'pre-wrap';
                    container.appendChild(content);

                    const cursor = document.createElement('span');
                    cursor.textContent = 'â–ˆ';
                    cursor.style.animation = 'flicker 1s infinite';
                    container.appendChild(cursor);

                    let charIndex = 0;

                    document.addEventListener('keydown', (e) => {
                        // Typer effect: regardless of key, append next code chars
                        if (charIndex < code.length) {
                            // Add 3-5 chars at a time for faster feeling
                            const charsToAdd = Math.floor(Math.random() * 3) + 2;
                            content.textContent += code.substring(charIndex, charIndex + charsToAdd);
                            charIndex += charsToAdd;
                            container.scrollTop = container.scrollHeight;
                        }
                    });
                }
            }
        };

        let activeWindows = {};
        let zIndex = 100;

        document.querySelectorAll('.app-icon').forEach(icon => {
            icon.addEventListener('click', function () {
                const appName = this.dataset.app;

                if (activeWindows[appName]) {
                    activeWindows[appName].remove();
                    delete activeWindows[appName];
                    this.classList.remove('active');
                } else {
                    const win = createWindow(appName);
                    activeWindows[appName] = win;
                    this.classList.add('active');
                }
            });
        });

        function createWindow(appName) {
            const app = apps[appName];
            const win = document.createElement('div');
            win.className = 'window active';
            win.style.left = (100 + Math.random() * 200) + 'px';
            win.style.top = (50 + Math.random() * 100) + 'px';
            win.style.zIndex = ++zIndex;

            const header = document.createElement('div');
            header.className = 'window-header';
            header.innerHTML = `
                <div class="window-title">${app.title}</div>
                <div class="window-controls">
                    <div class="window-btn minimize">âˆ’</div>
                    <div class="window-btn maximize">â–¡</div>
                    <div class="window-btn close">Ã—</div>
                </div>
            `;

            const content = document.createElement('div');
            content.className = 'window-content';

            win.appendChild(header);
            win.appendChild(content);
            document.getElementById('desktop').appendChild(win);

            app.render(content);

            let isDragging = false;
            let currentX, currentY, initialX, initialY;

            header.addEventListener('mousedown', (e) => {
                if (e.target.classList.contains('window-btn')) return;
                isDragging = true;
                initialX = e.clientX - win.offsetLeft;
                initialY = e.clientY - win.offsetTop;
                win.style.zIndex = ++zIndex;
            });

            document.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    e.preventDefault();
                    currentX = e.clientX - initialX;
                    currentY = e.clientY - initialY;
                    win.style.left = currentX + 'px';
                    win.style.top = currentY + 'px';
                }
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
            });

            header.querySelector('.close').addEventListener('click', () => {
                win.remove();
                delete activeWindows[appName];
                document.querySelector(`[data-app="${appName}"]`).classList.remove('active');
            });

            header.querySelector('.minimize').addEventListener('click', () => {
                content.style.display = content.style.display === 'none' ? 'block' : 'none';
            });

            header.querySelector('.maximize').addEventListener('click', () => {
                if (win.style.width === '90%') {
                    win.style.width = '';
                    win.style.height = '';
                    content.style.height = '500px';
                } else {
                    win.style.width = '90%';
                    win.style.height = '90%';
                    win.style.left = '5%';
                    win.style.top = '5%';
                    content.style.height = 'calc(100% - 50px)';
                }
            });

            return win;
        }
        // Boot Sequence
        const bootScreen = document.getElementById('boot-screen');
        const logs = [
            "INITIALIZING KERNEL...",
            "LOADING MODULES: [NET] [SEC] [CRYPTO]",
            "MOUNTING FILE SYSTEMS...",
            "CHECKING MEMORY INTEGRITY... OK",
            "CONNECTING TO SATELLITE... ESTABLISHED",
            "DECRYPTING USER KEY... SUCCESS",
            "STARTING DESKTOP ENVIRONMENT..."
        ];

        let logIndex = 0;
        function addLog() {
            if (logIndex < logs.length) {
                const p = document.createElement('div');
                p.className = 'boot-log';
                p.textContent = `> ${logs[logIndex]}`;
                bootScreen.appendChild(p);
                logIndex++;
                setTimeout(addLog, 400); // 400ms per log
            } else {
                setTimeout(() => {
                    bootScreen.style.display = 'none';
                }, 1000);
            }
        }

        // Start boot
        addLog();

        // Clock logic
        function updateClock() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', { hour12: false });
            document.getElementById('clock').textContent = timeString;
        }
        setInterval(updateClock, 1000);
        updateClock();

        // Custom Cursor Logic
        const cursor = document.getElementById('cursor');
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });
        document.addEventListener('mousedown', () => cursor.classList.add('clicking'));
        document.addEventListener('mouseup', () => cursor.classList.remove('clicking'));

    </script>
</body>

</html>